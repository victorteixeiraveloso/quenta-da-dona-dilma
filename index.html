<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quentinha da Dona Dilma</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Lobster&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
        .font-lobster {
            font-family: 'Lobster', cursive;
        }
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
        /* Estilos para o modal */
        .modal-backdrop {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .loader {
            border-top-color: #f59e0b;
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="min-h-screen bg-cover bg-center flex items-center justify-center p-4" style="background-image: url('https://cptstatic.s3.amazonaws.com/imagens/enviadas/materias/materia27698/culinaria-mineira-cpt.jpg');">
        <!-- Main Card -->
        <div class="w-full max-w-md mx-auto bg-black bg-opacity-75 rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 md:p-8 text-white text-center">

                <!-- Header -->
                <h1 class="font-lobster text-5xl md:text-6xl text-amber-400 text-shadow mb-1">Quentinha da Dona Dilma</h1>
                <p class="text-md text-amber-100 italic text-shadow">O verdadeiro sabor da comida caseira!</p>
                <p class="text-lg text-gray-200 font-semibold text-shadow mt-3">Almo√ßo aos domingos, com entrega a domic√≠lio!</p>

                <hr class="my-5 border-gray-500">

                <!-- Menu -->
                <div class="text-left">
                    <h2 class="text-3xl font-bold text-center mb-4 text-shadow text-amber-300">Card√°pio</h2>
                    <ul class="space-y-2 text-lg text-gray-100">
                        <li class="flex items-center"><span class="text-amber-400 mr-2">üçö</span> Arroz</li>
                        <li class="flex items-center"><span class="text-amber-400 mr-2">üç≤</span> Feij√£o ou Tutu</li>
                        <li class="flex items-center"><span class="text-amber-400 mr-2">‚ú®</span> Farofa Especial</li>
                        <li class="flex items-center"><span class="text-amber-400 mr-2">ü•ó</span> Maionese</li>
                        <li class="mt-4">
                            <p class="font-bold text-amber-300">Carne (uma op√ß√£o):</p>
                            <ul class="list-none ml-4 text-gray-200 space-y-1 mt-1">
                                <li>üçñ Porco na panela</li>
                                <li>üçó Frango no forno</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                
                <!-- Gemini Features -->
                <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <button id="chefSuggestionBtn" class="bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-4 rounded-lg transition-colors duration-300">
                        ‚ú® Sugest√£o do Chef
                    </button>
                    <button id="giftMessageBtn" class="bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold py-2 px-4 rounded-lg transition-colors duration-300">
                        ‚ú® Mensagem p/ Amigo
                    </button>
                </div>

                <hr class="my-5 border-gray-500">

                <!-- Price and CTA -->
                <div class="bg-amber-400 text-gray-900 rounded-lg p-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300">
                    <p class="text-xl font-bold">Garanta j√° a sua!</p>
                    <p class="text-4xl font-black">R$ 22,00</p>
                </div>

                <hr class="my-5 border-gray-500">

                <!-- Contact -->
                <div>
                    <h3 class="text-2xl font-bold text-shadow text-amber-300 mb-2 flex items-center justify-center">
                        <svg class="w-8 h-8 mr-3 fill-current text-green-500" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.61 15.35 3.48 16.81L2.1 21.9L7.45 20.52C8.85 21.32 10.41 21.82 12.04 21.82C17.5 21.82 21.95 17.37 21.95 11.91C21.95 9.27 20.92 6.83 19.16 4.99C17.4 3.15 14.87 2 12.04 2ZM17.23 15.86C17.03 16.26 16.06 16.78 15.76 16.88C15.46 16.98 14.93 17.01 14.46 16.81C13.99 16.61 12.88 16.25 11.63 15.12C10.08 13.71 9.29 12.04 9.1 11.64C8.91 11.24 9.51 11.17 9.71 10.97C9.88 10.8 10.02 10.58 10.22 10.33C10.42 10.08 10.52 9.88 10.67 9.63C10.82 9.38 10.77 9.18 10.67 8.98C10.57 8.78 10.09 7.61 9.89 7.21C9.69 6.81 9.49 6.86 9.34 6.85H9.14C8.94 6.85 8.64 6.9 8.44 7.1C8.24 7.3 7.69 7.78 7.69 8.93C7.69 10.08 8.49 11.15 8.64 11.35C8.79 11.55 10.14 13.75 12.26 14.69C13.01 15.02 13.56 15.22 13.98 15.37C14.63 15.6 15.19 15.57 15.64 15.47C16.14 15.35 17.03 14.83 17.23 14.23C17.43 13.63 17.43 13.15 17.33 13.05C17.23 12.95 17.03 12.85 16.83 12.75C16.63 12.65 16.33 12.55 16.13 12.75C15.93 12.95 15.58 13.43 15.43 13.63C15.28 13.83 15.13 13.85 14.93 13.75C14.73 13.65 14.01 13.37 13.11 12.57C12.35 11.89 11.89 11.05 11.74 10.8C11.59 10.55 11.84 10.33 12.04 10.13C12.21 9.95 12.44 9.93 12.64 10.13C12.84 10.33 13.24 10.83 13.39 10.98C13.54 11.13 13.64 11.18 13.84 11.08C14.04 10.98 14.04 10.33 13.99 10.08C13.94 9.83 13.94 9.83 13.94 9.83L17.23 15.86Z"/></svg>
                        Pe√ßa aqui:
                    </h3>
                    <div class="text-lg font-semibold bg-gray-900 bg-opacity-50 rounded-lg px-3 py-2">
                        <a href="https://wa.me/5532999048183" target="_blank" rel="noopener noreferrer" class="block hover:text-amber-300 transition-colors">
                            (32) 99904-8183
                        </a>
                        <a href="https://wa.me/5532999854038" target="_blank" rel="noopener noreferrer" class="block hover:text-amber-300 transition-colors mt-1">
                            (32) 99985-4038
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 z-50 overflow-y-auto items-center justify-center hidden">
        <div class="modal-backdrop fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-md p-6 relative transform scale-95">
                <h3 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-4"></h3>
                <div id="modalBody" class="text-gray-600 space-y-4">
                    <!-- Content will be injected here -->
                </div>
                <div id="modalLoader" class="hidden justify-center items-center p-8">
                    <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-24 w-24"></div>
                </div>
                <div class="mt-6 flex justify-end space-x-2">
                     <button id="copyBtn" class="hidden bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">Copiar</button>
                    <button id="closeModalBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition-colors duration-300">Fechar</button>
                </div>
            </div>
        </div>
    </div>
    
    <textarea id="copyBuffer" class="absolute -left-full"></textarea>

    <script>
        // Elementos do Modal
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const modalLoader = document.getElementById('modalLoader');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const copyBtn = document.getElementById('copyBtn');
        const copyBuffer = document.getElementById('copyBuffer');

        // Bot√µes de funcionalidade
        const chefSuggestionBtn = document.getElementById('chefSuggestionBtn');
        const giftMessageBtn = document.getElementById('giftMessageBtn');

        // Fun√ß√£o para abrir o modal
        const openModal = () => {
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.classList.add('overflow-hidden');
            setTimeout(() => {
                modal.querySelector('.modal-backdrop').classList.remove('opacity-0');
                modal.querySelector('.modal-content').classList.remove('scale-95');
            }, 10);
        };

        // Fun√ß√£o para fechar o modal
        const closeModal = () => {
            modal.querySelector('.modal-backdrop').classList.add('opacity-0');
            modal.querySelector('.modal-content').classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                document.body.classList.remove('overflow-hidden');
                // Resetar estado do modal
                modalLoader.classList.add('hidden');
                modalBody.classList.remove('hidden');
                copyBtn.classList.add('hidden');
            }, 300);
        };
        
        // Event Listeners para o modal
        closeModalBtn.addEventListener('click', closeModal);
        modal.querySelector('.modal-backdrop').addEventListener('click', closeModal);

        // Fun√ß√£o para chamar a API Gemini
        async function callGemini(prompt) {
            const apiKey = ""; // A chave da API √© gerida pelo ambiente
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{
                    parts: [{ text: prompt }]
                }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`Erro na API: ${response.statusText}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "N√£o foi poss√≠vel gerar uma resposta. Tente novamente.";
                }
            } catch (error) {
                console.error("Erro ao chamar a API Gemini:", error);
                return "Ocorreu um erro de comunica√ß√£o. Por favor, tente mais tarde.";
            }
        }

        // Funcionalidade: Sugest√£o do Chef
        chefSuggestionBtn.addEventListener('click', async () => {
            modalTitle.textContent = '‚ú® Sugest√£o do Chef';
            modalBody.innerHTML = '';
            modalLoader.classList.remove('hidden');
            copyBtn.classList.add('hidden');
            openModal();

            const prompt = "Voc√™ √© o chef da 'Quentinha da Dona Dilma'. O card√°pio de hoje inclui 'Porco na panela' e 'Frango no forno', ambos acompanhados de arroz, feij√£o ou tutu, farofa especial e maionese. Escolha aleatoriamente uma das op√ß√µes de carne e crie uma sugest√£o do dia curta e muito apetitosa para um cliente, descrevendo o prato de forma que d√™ √°gua na boca. Seja criativo e amig√°vel. N√£o ultrapasse 3 frases.";
            
            const suggestion = await callGemini(prompt);
            
            modalLoader.classList.add('hidden');
            modalBody.innerHTML = `<p>${suggestion.replace(/\n/g, '<br>')}</p>`;
        });

        // Funcionalidade: Mensagem para Amigo
        giftMessageBtn.addEventListener('click', async () => {
            modalTitle.textContent = 'üíå Mensagem para um Amigo';
            modalBody.innerHTML = '';
            modalLoader.classList.remove('hidden');
            copyBtn.classList.add('hidden');
            openModal();

            const prompt = "Voc√™ est√° a ajudar um cliente a enviar uma quentinha de presente para um amigo. Crie 3 op√ß√µes de mensagens curtas, amig√°veis e carinhosas para acompanhar o almo√ßo surpresa. As mensagens devem ser alegres e calorosas. Numere as op√ß√µes.";
            
            const messages = await callGemini(prompt);

            modalLoader.classList.add('hidden');
            modalBody.innerHTML = `<p class="whitespace-pre-wrap">${messages}</p>`;
            copyBtn.classList.remove('hidden');
        });
        
        // Funcionalidade: Copiar para a √°rea de transfer√™ncia
        copyBtn.addEventListener('click', () => {
            const textToCopy = modalBody.innerText;
            copyBuffer.value = textToCopy;
            copyBuffer.select();
            document.execCommand('copy');
            copyBtn.textContent = 'Copiado!';
            setTimeout(() => {
                copyBtn.textContent = 'Copiar';
            }, 2000);
        });

    </script>
</body>
</html>
